<ng-container *ngIf="result">
  <h1 id="tableLabel">
    <span class="btn-group">
      <a routerLink="/calendar/{{calendarKey}}/month/{{ prevMonth.getFullYear() }}/{{ prevMonth.getMonth() + 1 }}" class="btn btn-outline-dark btn-sm">
        <i class="bi bi-chevron-left"></i>
      </a>
      <a routerLink="/calendar/{{calendarKey}}/month/{{ nextMonth.getFullYear() }}/{{ nextMonth.getMonth() + 1 }}" class="btn btn-outline-dark btn-sm">
        <i class="bi bi-chevron-right"></i>
      </a>
    </span>
    &nbsp;
    {{ result.monthName }} {{ result.year }}
  </h1>

  <script>
  </script>

  <div *ngIf="result" class="rubrics {{result.traditionKey}} {{result.calendarKey}}">
    <table class="calendar-table">
      <thead>
        <tr>
          <th>Sunday</th>
          <th>Monday</th>
          <th>Tuesday</th>
          <th>Wednesday</th>
          <th>Thursday</th>
          <th>Friday</th>
          <th>Saturday</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let week of result.weeks">
          <td *ngFor="let day of week.days" routerLink="{{getDayRouterLink(day)}}" class="{{getDateClasses(day)}}">
            <div class="calendar-cell">
              <div class="calendar-cell-heading {{ day.headingClass }}">
                {{ day.day }}
              </div>
              <div *ngIf="day.headlines.length > 0" class="calendar-cell-headlines">
                <div *ngFor="let headline of day.headlines" class="calendar-cell-headline calendar-cell-content {{ headline.class }}"
                     data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ headline.elaboration }}">
                  {{ headline.summary }}
                </div>
              </div>
              <div class="calendar-cell-filler">
              </div>
              <div *ngIf="day.items.length > 0" class="calendar-cell-items">
                <div *ngFor="let item of day.items" class="calendar-cell-item calendar-cell-content {{ item.class }}"
                     data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ item.elaboration }}">
                  {{ item.summary }}
                </div>
              </div>
              <div class="calendar-cell-filler">
              </div>
            </div>
          </td>
        </tr>
        <!--<ng-container *ngFor="let week of result.weeks">
          <tr>
            <td *ngFor="let day of week.days" class="calendar-cell-heading {{ day.headingClass }}"
                routerLink="{{getDayRouterLink(day)}}">
              {{ day.day }}
            </td>
          </tr>
          <tr *ngIf="week.hasHeadlines">
            <ng-container *ngFor="let day of week.days">
              <td *ngIf="day.headlines.length > 0" class="calendar-cell-headlines {{ getDateClasses(day) }}"
                  routerLink="{{getDayRouterLink(day)}}">
                <div *ngFor="let headline of day.headlines" class="calendar-cell-headline calendar-cell-content {{ headline.class }}"
                     data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ headline.elaboration }}">
                  {{ headline.summary }}
                </div>
              </td>
              <td *ngIf="day.headlines.length == 0 && day.items.length > 0" rowspan="2" class="calendar-cell-items {{ getDateClasses(day) }}"
                  routerLink="{{getDayRouterLink(day)}}">
                <div *ngFor="let item of day.items" class="calendar-cell-item calendar-cell-content {{ item.class }}"
                     data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ item.elaboration }}">
                  {{ item.summary }}
                </div>
              </td>
              <td *ngIf="day.headlines.length == 0 && day.items.length == 0" rowspan="2" class="calendar-cell-filler {{ getDateClasses(day) }}"
                  routerLink="{{getDayRouterLink(day)}}">
                &nbsp;
              </td>
            </ng-container>
          </tr>
          <tr>
            <ng-container *ngFor="let day of week.days">
              <ng-container *ngIf="!week.hasHeadlines || day.headlines.length > 0">
                <td *ngIf="day.items.length > 0" class="calendar-cell-items calendar-cell-content {{ getDateClasses(day) }}"
                    routerLink="{{getDayRouterLink(day)}}">
                  <div *ngFor="let item of day.items" class="calendar-cell-item calendar-cell-content {{ item.class }}"
                       data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ item.elaboration }}">
                    {{ item.summary }}
                  </div>
                </td>
                <td *ngIf="day.items.length == 0" class="calendar-cell-filler calendar-cell-content {{ getDateClasses(day) }}"
                   routerLink="{{getDayRouterLink(day)}}">
                  &nbsp;
                </td>
              </ng-container>
            </ng-container>
          </tr>
        </ng-container>-->
      </tbody>
    </table>
  </div>
</ng-container>

<ng-container *ngIf="!result">
  <p>An error occurred while loading the calendar. Please try refreshing this page.</p>
</ng-container>
